<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="STYLESCOMPRA.css">
    <link rel="stylesheet" href="responsivecompra.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <title>Compra - Magic Feeder</title>
</head>
<body>
  <header class="header">
      
    <nav class="navbar">
      <h1 class="logo">Logo</h1>

      <label class="labe_hamburguesa" for="menu_hamburguesa">
        <svg 
        xmlns="http://www.w3.org/2000/svg" 
        width="35" 
        height="35" 
        fill="currentColor" 
        class="list_icon" 
        viewBox="0 0 16 16"
        >
          <path 
          fill-rule="evenodd"
           d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
        </svg>
      </label>
        <input class="menu_hamburguesa" type="checkbox" name="" id="menu_hamburguesa">

        <ul class="ul_links">
          <li class="li_links">
            <a href="Inicio.html" class="link">Inicio</a>
          </li>
    
          <li class="li_links">
            <a href="INDEX.html" class="link">Compra</a>
          </li>
          <li class="li_links">
            <a href="Contactanos.html" class="link">Contáctanos</a>
          </li>
        </ul>
    </nav>
   </header>
   <p class="titulo">Dispensador automático para mascotas</p>
   <p class="titulito">Magic Feeder</p>
    <span class="image-container">
    <div class="parent">
    <div class="div1"> 
      <img class="uno" src="IMG/dispensador1.png">
    </div>
    <div class="div2"> 
        <img class="dos" src="IMG/dispensador2.png">
    </div>
    <div class="div3"> 
        <img class="tres" src="IMG/dispensador4.png">
    </div>
    <div class="div4"> 
      <img class="cuatro" src="IMG/dispensador3.png">
    </div>
    <div class="div5"> 
      <img class="dispe" src="IMG/dispensador1.png">
    </div>
    </div>
    
   
    
  </span>
  
  <h3 class="descripi">$270.000 cop</h3>
        <button type="submit" class="miModal">Comprar</button>
    <h3 class="descrip">Descripción del producto</h3>
  <div class="descripo">
    <p class="pio">Nuestro dispensador automático cuenta con dos módulos:</p>
    
    <li class="huellas" > Tiene un botón para encender y apagar en la parte lateral
      y además está equipado con dos tipos de baterías</li>  
      <br>
      <li class="huellas">La batería principal se carga conectandolo a un
        tomacorriente, y hay una batería de respaldo en forma de
        pilas para emergencias</li>
      
    </div>
    <h3 class="pago">Medios de pago</h3>
    <div class="radio-inputs">
        <label>
          <input class="radio-input instagram" type="radio" name="engine" />
          <span class="radio-tile instagram">
            <span class="radio-icon">
              <img class="ne" src="IMG/nequi.png">
              <p class="pppo">Nequi </p>
              <p class="TRAKA">320 456 1228 </p>
                <g
                  style="mix-blend-mode: normal"
                  text-anchor="none"
                  font-size="none"
                  font-weight="none"
                  font-family="none"
                  stroke-dashoffset="0"
                  stroke-dasharray=""
                  stroke-miterlimit="10"
                  stroke-linejoin="miter"
                  stroke-linecap="butt"
                  stroke-width="1"
                  stroke="none"
                  fill-rule="nonzero">
                  <g transform="scale(8,8)">
                  </g>
                </g>
              </svg>
            </span>
          </span>
        </label>
      
        <label>
          <input class="radio-input twitter" type="radio" name="engine" />
          <span class="radio-tile twitter">
            <span class="radio-icon">
              <img class="PA" src="IMG/PAGO EN EFECTIVO.png">
              <p class="ppp">Efectivo</p>
              <p class="TRAKA"> Contraentrega </p>
              </svg>
            </span>
          </span>
        </label>
      
        <label>
          <input class="radio-input discord" type="radio" name="engine" />
          <span class="radio-tile discord">
            <img class="DA" src="IMG/DAVIVIENDACORTADO.jpg">   
            <p class="pppi">Davivienda</p>
            <p class="TRAKA">320 456 1228 </p>
              </svg>
            </span>
          </span>
        </label>
      </div>
    
        
        <div id="myModal" class="modal">
          <div class="modal-content">
              
                <img class="btnClose" src="IMG/cross_8860794.png" alt="">
             
              <p class="title">  Datos de contacto </p>
              <form class="form">
                    <label>
                        <input id="nombreUsuario" required placeholder="" type="text" class="input nombre">
                        <span>Nombres</span>
                    </label>
            
                    <label>
                       <input id="apellidoUsuario" required placeholder="" type="text" class="input">
                        <span>Apellidos</span>
                    </label>       
                <label>
                    <input id="emailUsuario" required placeholder="" type="email" class="input">
                    <span>Correo electrónico</span>
                </label> 
                    
                <label>
                    <input id="ciudadUsuario" required placeholder="" type="text" class="input">
                    <span>Ciudad</span>
                </label>
                <label>
                    <input id="telefonoUsuario" required placeholder="" type="text" class="input">
                    <span>Teléfono </span>
                </label>
                <label>
                  <input id="direccionusuario" required placeholder="" type="text" class="input">
                  <span>Dirección </span>
              </label>
              <p class="compris">Elige un método de pago:</p>   
              <div class="radio-inputs">
                <label>
                  <input class="radio-input instagram" type="radio" name="engine" />
                  <span class="radio-tile instagram">
                    <span class="radio-icon">
                      <img class="neq" src="IMG/nequi.png">
                        <g
                          style="mix-blend-mode: normal"
                          text-anchor="none"
                          font-size="none"
                          font-weight="none"
                          font-family="none"
                          stroke-dashoffset="0"
                          stroke-dasharray=""
                          stroke-miterlimit="10"
                          stroke-linejoin="miter"
                          stroke-linecap="butt"
                          stroke-width="1"
                          stroke="none"
                          fill-rule="nonzero">
                          <g transform="scale(8,8)">
                            
                            <path
                              d="M11.46875,5c-3.55078,0 -6.46875,2.91406 -6.46875,6.46875v9.0625c0,3.55078 2.91406,6.46875 6.46875,6.46875h9.0625c3.55078,0 6.46875,-2.91406 6.46875,-6.46875v-9.0625c0,-3.55078 -2.91406,-6.46875 -6.46875,-6.46875zM11.46875,7h9.0625c2.47266,0 4.46875,1.99609 4.46875,4.46875v9.0625c0,2.47266 -1.99609,4.46875 -4.46875,4.46875h-9.0625c-2.47266,0 -4.46875,-1.99609 -4.46875,-4.46875v-9.0625c0,-2.47266 1.99609,-4.46875 4.46875,-4.46875zM21.90625,9.1875c-0.50391,0 -0.90625,0.40234 -0.90625,0.90625c0,0.50391 0.40234,0.90625 0.90625,0.90625c0.50391,0 0.90625,-0.40234 0.90625,-0.90625c0,-0.50391 -0.40234,-0.90625 -0.90625,-0.90625zM16,10c-3.30078,0 -6,2.69922 -6,6c0,3.30078 2.69922,6 6,6c3.30078,0 6,-2.69922 6,-6c0,-3.30078 -2.69922,-6 -6,-6zM16,12c2.22266,0 4,1.77734 4,4c0,2.22266 -1.77734,4 -4,4c-2.22266,0 -4,-1.77734 -4,-4c0,-2.22266 1.77734,-4 4,-4z"
                            ></path>
                          </g>
                        </g>
                      </svg>
                    </span>
                  </span>
                </label>
                <label>
                  <input class="radio-input twitter" type="radio" name="engine" />
                  <span class="radio-tile twitter">
                    <span class="radio-icon">
                      <img class="PA" src="IMG/PAGO EN EFECTIVO.png">
                        <path
                          d="M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"
                        ></path>
                      </svg>
                    </span>
                  </span>
                </label>
              
                <label>
                  <input class="radio-input discord" type="radio" name="engine" />
                  <span class="radio-tile discord">
                    <img class="DA" src="IMG/DAVIVIENDACORTADO.jpg">
                    <path
                          d="M40,12c0,0-4.585-3.588-10-4l-0.488,0.976C34.408,10.174,36.654,11.891,39,14c-4.045-2.065-8.039-4-15-4s-10.955,1.935-15,4c2.346-2.109,5.018-4.015,9.488-5.024L18,8c-5.681,0.537-10,4-10,4s-5.121,7.425-6,22c5.162,5.953,13,6,13,6l1.639-2.185C13.857,36.848,10.715,35.121,8,32c3.238,2.45,8.125,5,16,5s12.762-2.55,16-5c-2.715,3.121-5.857,4.848-8.639,5.815L33,40c0,0,7.838-0.047,13-6C45.121,19.425,40,12,40,12z M17.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C21,28.209,19.433,30,17.5,30z M30.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C34,28.209,32.433,30,30.5,30z"
                        ></path>
                      </svg>
                    </span>
                  </span>
                </label>
              </div>
                <div class="column">
                  <p class="compris1">Cantidad:</p>                                                                                                      
                <div class="counter">
              <div class="sumayresta">
                <button class="decrement"><b>-</b></button>
                <span class="value">0</span>
                <button class="increment"><b>+</b></button>
              </div>

        
                <div class="payments">
                  <span class="SPAN2" >Total:</span>
                  <div class="details">
                    <div class="SPAN1" >Subtotal</div>
                    <div class="pala">$270.000</div>
                    <div class="SPAN1" >Envió</div>
                    <div class="palashipping">$15.000</div>
                  </div>
                </div>
                </div>
            </div>
          </form>
          <div class="card checkout">
            <div class="cora">
              <label class="price">$270.000</label>
              <input type="button" value="Pagar" class="checkout-btn">
             
            </div>
          </div>
        </div>
      </div>
      <dialog id="modal1">
        <p class="corazoncito">¡Gracias por tu compra <span id="nombreUsuarioDisplay"></span>!</p>
        <p class="texto">Te enviaremos a tu correo electrónico: <span id="emailUsuarioDisplay"></span> con los detalles de tu operación y te notificaremos si tu pago se ha realizado correctamente.</p>
        <button class="bulin" onclick="window.modal1.close();">Cerrar</button>
      </dialog>
      <footer class="footer">
        <ul class="menufooter">
          <li class="menu-elem">
            <a href="Inicio.html" class="menu-icon">Inicio</a>
          </li>
          <li class="menu-elem">
            <a href="INDEX.html" class="menu-icon">Compra</a>
          </li>
          <li class="menu-elem">
            <a href="Contactanos.html" class="menu-icon">Contáctanos</a>
          </li>
        </ul>
        <p class="textautor">@2024  |  Todos los derechos de autor reservados</p>
      </footer>

      <script>
   
        
// Captura de elementos del modal
const modal = document.getElementById("myModal");
const btn = document.querySelector(".miModal");
const span = document.getElementsByClassName("btnClose")[0];

// Asegura que el modal siempre esté oculto al cargar el módulo
function hideModal() {
  modal.style.display = "none";
}

// Oculta el modal al cargar la página o al cambiar de módulo
window.onload = hideModal;

// Oculte el modal también cuando se salga del módulo o vista
window.onbeforeunload = hideModal; // Este evento se dispara cuando se cambia de página o recarga

// Mostrar el modal al hacer clic en el botón
btn.onclick = function() {
  modal.style.display = "grid"; // Mostrar el modal al hacer clic
}

// Cerrar el modal al hacer clic en el botón de cerrar
span.onclick = function() {
  modal.style.display = "none"; // Ocultar el modal cuando se cierre
}

// Evento para ocultar el modal si se hace clic fuera de él
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


// Captura de elementos necesarios para el contador
const decrementButton = document.querySelector('.decrement');
const incrementButton = document.querySelector('.increment');
const valueElement = document.querySelector('.value');  
const subtotalElement = document.querySelector('.pala');
const shippingElement = document.querySelector('.palashipping');
const priceElement = document.querySelector('.price');

let count = 0;

// Función para actualizar el total
function updateTotal() {
  const subtotalValue = parseFloat(subtotalElement.textContent.replace('$', '').replace('.', ''));
  const shippingValue = parseFloat(shippingElement.textContent.replace('$', '').replace('.', ''));
  const totalPrice = (subtotalValue * count) + shippingValue;
  priceElement.textContent = `$${totalPrice.toLocaleString('es-CO')}`;
}

// Event listener para decrementar
decrementButton.addEventListener('click', (event) => {
  event.preventDefault();
  if (count > 0) {
    count--;
    valueElement.textContent = count;
    updateTotal();
  }
});

// Event listener para incrementar
incrementButton.addEventListener('click', (event) => {
  event.preventDefault();
  count++;
  valueElement.textContent = count;
  updateTotal();
});

// Captura de imágenes y asignación de eventos de clic
const imagenes = document.querySelectorAll('.div1 img, .div2 img, .div3 img, .div4 img');

imagenes.forEach(imagen => {
  imagen.addEventListener('click', () => {
    // Selecciona la imagen principal
    const imagenPrincipal = document.querySelector('.div5 img');

    // Obtiene la fuente de la imagen clicada
    const nuevaFuente = imagen.src;

    // Asigna la nueva fuente a la imagen principal
    imagenPrincipal.src = nuevaFuente;
  });
});

// Captura del botón y del modal
const checkoutButton = document.querySelector('.checkout .checkout-btn');
const modal3 = document.getElementById('modal1');

// Función para mostrar el modal
function showModal() {
  const nombre = document.getElementById('nombreUsuario').value;
  const email = document.getElementById('emailUsuario').value;

  if (nombre && email ) {
    // Actualiza el mensaje de agradecimiento con el nombre del usuario
    document.getElementById('nombreUsuarioDisplay').textContent = nombre;

    // Actualiza el texto con el correo electrónico del usuario de forma segura y legible
    document.getElementById('emailUsuarioDisplay').textContent = email;

    // Muestra el modal
   
   
   
    modal3.showModal(); // Usa el método showModal() para mostrar el diálogo
  
  } else {
    alert("Por favor, ingrese su nombre y correo electrónico antes de pagar.");
  }
}

// Asocia la función al clic del botón
checkoutButton.addEventListener('click', showModal);

// Asegúrate de que el modal esté oculta al cargar la página



const nombreInput = document.getElementById('nombreUsuario');
const emailInput = document.getElementById('emailUsuario');
const nombreUsuarioDisplay = document.getElementById('nombreUsuarioDisplay');
const emailUsuarioDisplay = document.getElementById('emailUsuarioDisplay');

// Evento para el botón de pagar
document.querySelector('.checkout-btn').addEventListener('click', function() {
  const nombre = nombreInput.value;
  const email = emailInput.value;
  
  function hideModal() {
  document.getElementById('modal1');
}


  if (nombre && email) {
    // Actualiza el mensaje de agradecimiento con el nombre del usuario
    nombreUsuarioDisplay.textContent = nombre;

    // Actualiza el texto con el correo electrónico del usuario de forma segura y legible
    emailUsuarioDisplay.textContent = email;

     // Muestra el modal
  showModal();
    // Muestra el modal
    document.getElementById('modal1');
    // Oculta el modal al cargar la página o al cambiar de módulo

  } else {
    alert("Por favor, ingrese su nombre y correo electrónico antes de pagar.");
  }
  
});


      </script>
</body>
</html> 